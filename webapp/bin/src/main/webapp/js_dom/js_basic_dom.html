<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Insert title here</title>
    <script>
        // dom 객체가 생성되고 페이지가 로딩되면 함수를 실행
        window.onload = function () {
            alert("이벤트 핸들러 속성에 이벤트 연결");
            document.getElementById("btndomtest").onclick = function () {
                alert("dom 구조 확인하기 버튼 눌려짐");
            };

            document.querySelector("#btninsert").onclick = domTest;

            function domTest() {
                // alert("실행");
                // 모든 div로 정의된 element 구하기
                var divObj = document.getElementsByTagName("div");
                console.log(divObj);
                console.log(`노드의 갯수 : ${divObj.length}`);

                // 반환된 nodeList는 배열처럼 관리되므로 for
                for (let i = 0; i < divObj.length; i++) {
                    console.log(divObj[i]);
                    console.log(`속성 : ${divObj[i].getAttribute("id")}`);
                    if (divObj[i].getAttribute("id") === "domtestbtn") {
                        console.log("form 객체 ======================")
                    }
                    console.log(`노드 : ${divObj[i].nodeName}`);
                    console.log(`노드의 첫 번째 자식노드의 이름 : ${divObj[i].firstChild.nodeName}`);
                    console.log(`노드의 첫 번째 자식노드의 이름 : ${divObj[i].lastChild.nodeName}`);

                    // 각 요소(divObj[i])의 자식 노드를 구하기
                    let myNodeList = divObj[i].childNodes;
                    // child node는 공백까지 치기 때문에 공백을 항상 고려한 작업을 진행해야 한다.
                    console.log(`자식노드의 갯수 : ${myNodeList.length}`);

                }
            }
        };
    </script>
</head>

<body>
<div id="main">
    <h1 id="myhead">안녕하세요 DOM에 관한 작업을 수행 중입니다.</h1>
    <div id="mycontent1"><img src="../images/m_garden07.jpg" name="myimg" id="myimagId"
                              alt="이미지파일"/>
        <h3>이미지파일</h3></div>
    <div id="mycontent2">DOM의 구조를 볼까~~</div>
    <div id="domtestbtn">
        <form id="myformId" name="myform">
            <input type="button" value="dom구조확인하기"
                   name="btn" id="btndomtest"/>
            <input type="button" value="노드삽입하기"
                   name="btn" id="btninsert"/>
            <input type="button" value="이미지노드삽입하기"
                   name="btn" id="imginsert"/>
            <input type="button" value="특정노드전에 삽입하기"
                   name="btn" id="btninsertbefore"/>
            <input type="button" value="특정노드삭제하기"
                   name="btn" id="btndelete"/>
        </form>
    </div>
</div>
</body>
</html>









